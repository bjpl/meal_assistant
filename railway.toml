# Railway.toml - Multi-service deployment configuration
# Meal Assistant Application Stack

[build]
builder = "NIXPACKS"
installCommand = "npm ci --legacy-peer-deps"
buildCommand = "npm run build"

[deploy]
startCommand = "node dist/src/api/server.js"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
healthcheckPath = "/health"
healthcheckTimeout = 100

# Environment variables (set via Railway dashboard or CLI)
# DATABASE_URL - Provided by Railway PostgreSQL plugin
# REDIS_URL - Provided by Railway Redis plugin
# JWT_SECRET - Set manually
# NODE_ENV=production
